# ============================================
# AI Enrichment & Algolia Sync Configuration
# ============================================
# Copy relevant variables to the ROOT .env file (qiq-chat/.env)
# NOT in rules-engine/.env
#
# The enrichment scripts read from the parent directory's .env file
# ============================================

# ============================================
# OpenAI Configuration (REQUIRED for enrichment)
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o-mini

# Model options:
# - gpt-4o-mini (recommended, fast & cheap)
# - gpt-4o (more accurate but slower & expensive)
# - gpt-4-turbo
# - gpt-3.5-turbo (cheapest but less accurate)

# ============================================
# Google Custom Search (OPTIONAL for images)
# ============================================
# Only needed if you want automatic image search for products without images
# Get API key from: https://console.cloud.google.com/apis/credentials
# Get CX ID from: https://programmablesearchengine.google.com/
GOOGLE_API_KEY=xxxxxxxxxxxxxxxxxxxx
GOOGLE_CX_ID=xxxxxxxxxxxxxxxxxxxx

# Note: Free tier = 100 queries/day
# Paid tier = $5 per 1000 queries

# ============================================
# Algolia Configuration (REQUIRED for sync)
# ============================================
# Get credentials from: https://www.algolia.com/account/api-keys
ALGOLIA_APP_ID=xxxxxxxxxxxxxxxxxxxx
ALGOLIA_API_KEY=xxxxxxxxxxxxxxxxxxxx
ALGOLIA_INDEX=woocommerce_products

# Important: Use ADMIN API KEY, not search-only key
# The sync script needs write permissions

# Optional: Search-only key for frontend (different from admin key)
ALGOLIA_SEARCH_KEY=xxxxxxxxxxxxxxxxxxxx
ALGOLIA_PUBLIC_API_KEY=xxxxxxxxxxxxxxxxxxxx

# ============================================
# Database Configuration
# ============================================
# Database credentials are NOT in .env for security
# Configure in: rules-engine/config/dbConfig.json
#
# Example dbConfig.json:
# {
#   "user": "sa",
#   "password": "YourPassword123",
#   "server": "localhost",
#   "database": "QuoteWerksDB",
#   "options": {
#     "encrypt": false,
#     "trustServerCertificate": true
#   }
# }

# ============================================
# Processing Settings (OPTIONAL)
# ============================================
# Override default processing limits

# Number of products to process per batch (default: 20)
# ENRICHMENT_BATCH_SIZE=20

# Max concurrent AI API calls (default: 3)
# ENRICHMENT_CONCURRENCY=3

# Max retries for failed API calls (default: 2)
# ENRICHMENT_MAX_RETRIES=2

# Algolia sync batch size (default: 100)
# ALGOLIA_SYNC_BATCH_SIZE=100

# ============================================
# Usage Instructions
# ============================================
#
# 1. Copy this file to the ROOT directory:
#    cp rules-engine/.env.enrichment.example .env
#
# 2. Fill in your API keys:
#    - OPENAI_API_KEY (required)
#    - GOOGLE_API_KEY & GOOGLE_CX_ID (optional)
#    - ALGOLIA_APP_ID, ALGOLIA_API_KEY (required for sync)
#
# 3. Configure database:
#    Edit rules-engine/config/dbConfig.json
#
# 4. Run enrichment:
#    cd rules-engine
#    npm run enrich
#
# 5. Run Algolia sync:
#    npm run sync
#
# ============================================
