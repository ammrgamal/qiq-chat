<!doctype html>
<html lang="ar" dir="rtl">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<base href="/" />
	<title>كتالوج المنتجات</title>
	<link rel="stylesheet" href="/css/styles.css" />
		<style>
			:root{
				--brand-primary:#1e3a8a; /* navy */
				--brand-accent:#0ea5e9;  /* sky */
				--brand-success:#059669; /* green */
				--brand-danger:#dc2626;  /* red */
				--brand-muted:#6b7280;   /* gray */
				--brand-bg:#f8fafc;
				--card-bg:#ffffff;
				--border:#e5e7eb;
			}
			body{font-family:Inter,system-ui,Segoe UI,Arial;margin:0;background:var(--brand-bg);color:#111}
			.container{max-width:1200px;margin:16px auto;padding:12px}
			.topbar{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--border)}
			.topbar-inner{max-width:1200px;margin:0 auto;padding:10px 12px;display:flex;gap:12px;align-items:center}
			.brand{display:flex;gap:10px;align-items:center;color:var(--brand-primary);font-weight:700}
			.brand a{color:var(--brand-primary);text-decoration:none}
			.brand .dot{width:8px;height:8px;border-radius:50%;background:var(--brand-accent)}
			.header{display:flex;align-items:center;gap:12px;margin:12px 0}
			.header a{color:var(--brand-primary);text-decoration:none}
			.toolbar{display:flex;gap:8px;align-items:center;margin:10px 0}
			.toolbar input{flex:1;min-width:280px;padding:10px;border:1px solid var(--border);border-radius:10px}
			.view-toggle{margin-inline-start:auto;display:flex;gap:6px}
			.view-toggle button{padding:6px 10px;border:1px solid var(--border);border-radius:8px;background:#fff;cursor:pointer}
			.view-toggle .active{background:var(--brand-primary);color:#fff;border-color:var(--brand-primary)}
			.layout{display:grid;grid-template-columns:260px 1fr;gap:16px}
			.sidebar{border:1px solid var(--border);border-radius:12px;padding:12px;height:fit-content;background:#fff}
			.facet{margin-bottom:12px}
			.facet h3{font-size:14px;margin:6px 0}
			.facet ul{list-style:none;padding:0;margin:0;max-height:260px;overflow:auto}
			.facet li{display:flex;align-items:center;gap:8px;padding:4px 0}
			.range{display:flex;gap:8px}
			.range input{width:100%;padding:6px;border:1px solid var(--border);border-radius:8px}
			.results{display:block}
			.results.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px}
			.card{border:1px solid var(--border);border-radius:12px;padding:10px;display:flex;gap:10px;align-items:flex-start;background:var(--card-bg)}
			.card.grid{flex-direction:column;box-shadow:0 4px 12px rgba(0,0,0,0.06)}
			.card img{width:60px;height:60px;border-radius:8px;object-fit:cover;background:#f3f4f6}
			.card.grid img{width:100%;height:150px}
			.card .name{font-weight:600;margin-bottom:4px}
			.chips{display:flex;gap:6px;flex-wrap:wrap;margin:6px 0}
			.chip{background:#f3f4f6;border-radius:999px;padding:2px 8px;font-size:12px;color:#374151}
			.price{background:#eef2ff;color:#3730a3}
			.actions{margin-inline-start:auto;display:flex;gap:6px}
			.btn{border:0;border-radius:10px;padding:8px 10px;background:var(--brand-primary);color:#fff;cursor:pointer}
			.btn.secondary{background:var(--brand-muted);color:#fff}
			.btn.ghost{background:#fff;color:var(--brand-primary);border:1px solid var(--border)}
			.muted{color:#6b7280}
			.pagination{display:flex;gap:6px;flex-wrap:wrap;margin:10px 0}
			.pagination button{padding:6px 10px;border:1px solid var(--border);border-radius:8px;background:#fff;cursor:pointer}
			.pagination .active{background:var(--brand-primary);color:#fff;border-color:var(--brand-primary)}
			.quick-btn{background:#f3f4f6;border:1px solid var(--border);border-radius:12px;padding:8px 12px;cursor:pointer;transition:all 0.2s;font-size:14px}
			.quick-btn:hover{background:#e5e7eb;transform:translateY(-1px)}
			.quick-btn.active{background:var(--brand-primary);color:#fff;border-color:var(--brand-primary)}
			@keyframes slideIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
			.quote-section{border:1px solid var(--border);border-radius:12px;padding:16px;background:#fafafa}
			.motivational-message{font-weight:500;border-left:4px solid var(--brand-success)}
			/* List line style (true lines) */
			#results.list-lines{display:block}
			#results.list-lines .card{display:grid;grid-template-columns:56px 1fr auto;align-items:center;gap:10px;padding:8px 10px;border-bottom:1px solid var(--border);border-radius:0;box-shadow:none}
			#results.list-lines .card img{width:44px;height:44px}
			#results.list-lines .card .name{line-height:1.25}
			#results.list-lines .card .chips{margin:4px 0}
			#results.list-lines .card .actions{margin-inline-start:0}
			/* Ghost button contrast in dark mode will be handled by ui-enhancements */
		</style>
</head>
<body>
	<div class="topbar">
		<div class="topbar-inner">
			<div class="brand">
				<span class="dot"></span>
				<a href="https://ai.quickitquote.com/" target="*_blank" rel="noopener">QuickITQuote</a>
				<span class="muted" style="font-weight:500">الكتالوج</span>
			</div>
			<div class="view-toggle">
				<a class="btn ghost" href="/index.html" title="AI Agent">الوكيل الذكي</a>
				<button id="viewList" class="active" title="عرض على شكل سطور">سطور</button>
				<button id="viewGrid" title="عرض شبكي">شبكة</button>
				<button id="themeToggle" title="الوضع الليلي" style="margin-inline-start:8px">🌙</button>
				<button id="langToggleCatalog" title="اللغة">AR/EN</button>
			</div>
		</div>
	</div>
		<div class="container">
		<div class="header">
			<h1 style="margin:0">كتالوج المنتجات</h1>
			<div class="muted" id="status"></div>
			<div style="margin-inline-start:auto; display: flex; gap: 8px; align-items: center;">
				<button id="favorites-btn" class="btn ghost" style="position: relative;">
					❤️ المفضلة
					<span class="favorites-badge" style="position: absolute; top: -8px; right: -8px; background: #ef4444; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 10px; display: none;">0</span>
				</button>
				<button id="comparison-btn" class="btn ghost" style="position: relative;">
					⚖️ المقارنة
					<span class="comparison-badge" style="position: absolute; top: -8px; right: -8px; background: #3b82f6; color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 10px; display: none;">0</span>
				</button>
				<a class="btn secondary" href="/quote.html">عرض السعر</a>
			</div>
		</div>
		<div class="toolbar">
			<input id="q" type="search" placeholder="ابحث بالاسم / PN / SKU" />
			<button id="searchBtn" class="btn">بحث</button>
			<button id="clearBtn" class="btn secondary">مسح</button>
		</div>
		
		<!-- Chat-like Quick Action Buttons (refined) -->
		<div class="quick-actions" style="margin: 16px 0; display: flex; gap: 8px; flex-wrap: wrap;">
			<button class="quick-btn" data-query="SFP module">🔌 وحدات SFP</button>
			<button class="quick-btn" data-query="PoE switch">🔧 سويتشات PoE</button>
			<button class="quick-btn" data-query="Cat6 cable">🧵 كابلات Cat6</button>
			<button class="quick-btn" data-query="CCTV camera">📷 كاميرات مراقبة</button>
			<button class="quick-btn" data-query="UPS">⚡ UPS والطاقة</button>
			<button class="quick-btn" data-query="WiFi access point">📡 نقاط وصول Wi‑Fi</button>
		</div>
		
		<!-- Motivational Messages -->
		<div id="motivational-message" class="motivational-message" style="
			margin: 12px 0; padding: 12px 16px; background: linear-gradient(135deg, var(--brand-success) 0%, #037957 100%);
			color: white; border-radius: 12px; display: none; animation: slideIn 0.5s ease-out;
		">
			<span id="message-text">🎯 ابحث عن المنتجات المناسبة لمشروعك وابني عرض السعر بسرعة</span>
		</div>
			<div class="layout">
				<aside class="sidebar">
					<div class="facet" id="facet-brands">
						<h3>الشركة</h3>
						<ul></ul>
					</div>
					<div class="facet" id="facet-categories">
						<h3>الفئة</h3>
						<ul></ul>
					</div>
					<div class="facet" id="facet-quick-price">
						<h3>نطاقات سعر سريعة</h3>
						<div class="range" style="flex-direction:column;gap:6px">
							<button class="quick-btn" data-price-min="0" data-price-max="100">حتى 100$</button>
							<button class="quick-btn" data-price-min="100" data-price-max="500">100–500$</button>
							<button class="quick-btn" data-price-min="500" data-price-max="2000">500–2000$</button>
							<button class="quick-btn" data-price-min="2000" data-price-max="">أكثر من 2000$</button>
						</div>
					</div>
					<div class="facet">
						<h3>نطاق السعر</h3>
						<div class="range">
							<input id="priceMin" type="number" placeholder="الأدنى" />
							<input id="priceMax" type="number" placeholder="الأقصى" />
						</div>
						<div style="margin-top:8px">
							<button id="applyPrice" class="btn secondary" style="padding:6px 10px">تطبيق</button>
						</div>
					</div>
					<div class="facet" id="facet-extras">
						<h3>خصائص أخرى</h3>
						<ul>
							<li><label><input type="checkbox" id="hasImage"> به صورة</label></li>
							<li><label><input type="checkbox" id="inStock"> متوفر (إن وجد)</label></li>
						</ul>
					</div>
				</aside>
				<main>
					<div class="results" id="results"></div>
					<div class="pagination" id="pagination"></div>
				</main>
			</div>
	</div>
		<script src="/js/performance.js"></script>
		<script src="/js/toast.js"></script>
		<script src="/js/security.js"></script>
		<script src="/js/user-features.js"></script>
		<script src="/js/experimental-banner.js"></script>
		<script src="/js/ui-enhancements.js"></script>
		<script src="/js/analytics.js"></script>
		<script src="/js/quote-actions.js"></script>
		<script src="/js/products-search-enhanced.js"></script>
	<script>
	// Theme toggle hook
	document.addEventListener('DOMContentLoaded', function(){
	  const btn = document.getElementById('themeToggle');
	  if (!btn) return;
	  const applyIcon = ()=> btn.textContent = (window.QiqTheme?.currentTheme === 'dark') ? '☀️' : '🌙';
	  applyIcon();
	  btn.addEventListener('click', ()=>{ try{ const t = window.QiqTheme?.toggle(); btn.textContent = (t==='dark')?'☀️':'🌙'; }catch{} });
	  // Language toggle
	  const langBtn = document.getElementById('langToggleCatalog');
	  langBtn?.addEventListener('click', ()=>{ try{ window.QiqI18n?.toggle?.(); }catch{} });
	});
	</script>
	<!-- Modal container -->
	<div id="qiq-modal" aria-hidden="true" style="display:none">
		<div class="qiq-modal__backdrop" style="position:fixed;inset:0;background:rgba(0,0,0,.4);"></div>
		<div class="qiq-modal__dialog" tabindex="-1" style="position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.2);width:min(880px,92vw);max-height:86vh;display:flex;flex-direction:column;overflow:hidden;z-index:50">
			<div class="qiq-modal__header" style="display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid var(--border)">
				<div class="qiq-modal__title" style="font-weight:600">Modal</div>
				<div style="display:flex;gap:6px">
					<button class="qiq-modal__open-tab btn secondary" style="padding:6px 10px">Open in tab</button>
					<button class="qiq-modal__print btn secondary" style="padding:6px 10px">Print</button>
					<button class="qiq-modal__close btn" style="padding:6px 10px">Close</button>
				</div>
			</div>
			<iframe id="qiq-modal-frame" style="border:0;flex:1;min-height:300px"></iframe>
		</div>
	</div>
		<script src="/js/modal.js"></script>
	</body>
	</html>
